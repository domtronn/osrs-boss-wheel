function I(J){return J}function N(J){let K=[];J.items.forEach((Q)=>{for(let V=0;V<Q.weight;V++)K.push(Q.name)});for(let Q=K.length-1;Q>0;Q--){let V=Math.floor(Math.random()*(Q+1));[K[Q],K[V]]=[K[V],K[Q]]}return K}var U={spinDuration:6000,spinVariance:4000,items:[{name:"Chambers of Xeric",weight:3,imageUrl:"https://oldschool.runescape.wiki/images/thumb/Chambers_of_Xeric_logo.png/500px-Chambers_of_Xeric_logo.png?34a98",wikiUrl:"https://oldschool.runescape.wiki/w/Chambers_of_Xeric"},{name:"Theatre of Blood",weight:3,imageUrl:"https://oldschool.runescape.wiki/images/thumb/Theatre_of_Blood_logo.png/500px-Theatre_of_Blood_logo.png?e6e68",wikiUrl:"https://oldschool.runescape.wiki/w/Theatre_of_Blood"},{name:"Tombs of Amascut",weight:3,imageUrl:"https://oldschool.runescape.wiki/images/Tombs_of_Amascut.png",wikiUrl:"https://oldschool.runescape.wiki/w/Tombs_of_Amascut"},{name:"Nex",weight:2,imageUrl:"https://oldschool.runescape.wiki/images/Nex.png",wikiUrl:"https://oldschool.runescape.wiki/w/Nex"},{name:"The Nightmare",weight:2,imageUrl:"https://oldschool.runescape.wiki/images/The_Nightmare.png",wikiUrl:"https://oldschool.runescape.wiki/w/The_Nightmare"},{name:"Callisto",weight:3,imageUrl:"https://oldschool.runescape.wiki/images/Callisto.png",wikiUrl:"https://oldschool.runescape.wiki/w/Callisto"},{name:"Venenatis",weight:3,imageUrl:"https://oldschool.runescape.wiki/images/Venenatis.png",wikiUrl:"https://oldschool.runescape.wiki/w/Venenatis"},{name:"Vet'ion",weight:3,imageUrl:"https://oldschool.runescape.wiki/images/Vet%27ion.png",wikiUrl:"https://oldschool.runescape.wiki/w/Vet%27ion"},{name:"Revs",weight:1,imageUrl:"https://oldschool.runescape.wiki/images/thumb/Revenant_maledictus.png/291px-Revenant_maledictus.png?73c48",wikiUrl:"https://oldschool.runescape.wiki/w/Revenant_Caves"},{name:"Barbarian Assault",weight:2,imageUrl:"https://oldschool.runescape.wiki/images/thumb/Penance_Queen.png/580px-Penance_Queen.png",wikiUrl:"https://oldschool.runescape.wiki/w/Barbarian_Assault"},{name:"The Hueycoatl",weight:2,imageUrl:"https://oldschool.runescape.wiki/images/The_Hueycoatl.png",wikiUrl:"https://oldschool.runescape.wiki/w/The_Hueycoatl"},{name:"Scurrius",weight:1,imageUrl:"https://oldschool.runescape.wiki/images/Scurrius.png",wikiUrl:"https://oldschool.runescape.wiki/w/Scurrius"}]};var h={spinDuration:6000,spinVariance:4000,items:[{name:"Chambers of Xeric",weight:2,imageUrl:"https://oldschool.runescape.wiki/images/thumb/Chambers_of_Xeric_logo.png/500px-Chambers_of_Xeric_logo.png?34a98",wikiUrl:"https://oldschool.runescape.wiki/w/Chambers_of_Xeric"},{name:"Tombs of Amascut",weight:2,imageUrl:"https://oldschool.runescape.wiki/images/Tombs_of_Amascut.png",wikiUrl:"https://oldschool.runescape.wiki/w/Tombs_of_Amascut"},{name:"Nex",weight:1,imageUrl:"https://oldschool.runescape.wiki/images/Nex.png",wikiUrl:"https://oldschool.runescape.wiki/w/Nex"},{name:"The Nightmare",weight:1,imageUrl:"https://oldschool.runescape.wiki/images/The_Nightmare.png",wikiUrl:"https://oldschool.runescape.wiki/w/The_Nightmare"},{name:"Callisto",weight:3,imageUrl:"https://oldschool.runescape.wiki/images/Callisto.png",wikiUrl:"https://oldschool.runescape.wiki/w/Callisto"},{name:"Venenatis",weight:3,imageUrl:"https://oldschool.runescape.wiki/images/Venenatis.png",wikiUrl:"https://oldschool.runescape.wiki/w/Venenatis"},{name:"Vet'ion",weight:3,imageUrl:"https://oldschool.runescape.wiki/images/Vet%27ion.png",wikiUrl:"https://oldschool.runescape.wiki/w/Vet%27ion"},{name:"The Hueycoatl",weight:2,imageUrl:"https://oldschool.runescape.wiki/images/The_Hueycoatl.png",wikiUrl:"https://oldschool.runescape.wiki/w/The_Hueycoatl"},{name:"Scurrius",weight:1,imageUrl:"https://oldschool.runescape.wiki/images/Scurrius.png",wikiUrl:"https://oldschool.runescape.wiki/w/Scurrius"},{name:"Yama",weight:3,imageUrl:"https://oldschool.runescape.wiki/images/thumb/Yama.png/310px-Yama.png",wikiUrl:"https://oldschool.runescape.wiki/w/Yama"},{name:"Titans",weight:5,imageUrl:["https://oldschool.runescape.wiki/images/thumb/Eldric_the_Ice_King.png/196px-Eldric_the_Ice_King.png","https://oldschool.runescape.wiki/images/thumb/Branda_the_Fire_Queen.png/188px-Branda_the_Fire_Queen.png?0687c"],wikiUrl:"https://oldschool.runescape.wiki/w/Royal_Titans"}]};var x={spinDuration:6000,spinVariance:4000,items:[{name:"Duke Sucellus",weight:3,imageUrl:"https://oldschool.runescape.wiki/images/Duke_Sucellus.png",wikiUrl:"https://oldschool.runescape.wiki/w/Duke_Sucellus"},{name:"The Leviathan",weight:3,imageUrl:"https://oldschool.runescape.wiki/images/The_Leviathan.png",wikiUrl:"https://oldschool.runescape.wiki/w/The_Leviathan"},{name:"The Whisperer",weight:3,imageUrl:"https://oldschool.runescape.wiki/images/The_Whisperer.png",wikiUrl:"https://oldschool.runescape.wiki/w/The_Whisperer"},{name:"Vardorvis",weight:3,imageUrl:"https://oldschool.runescape.wiki/images/Vardorvis.png",wikiUrl:"https://oldschool.runescape.wiki/w/Vardorvis"},{name:"Giant Mole",weight:1,imageUrl:"https://oldschool.runescape.wiki/images/thumb/Giant_Mole.png/300px-Giant_Mole.png",wikiUrl:"https://oldschool.runescape.wiki/w/Giant_Mole"},{name:"Barrows",weight:1,imageUrl:["https://oldschool.runescape.wiki/images/thumb/Verac_the_Defiled.png/126px-Verac_the_Defiled.png","https://oldschool.runescape.wiki/images/thumb/Guthan_the_Infested.png/93px-Guthan_the_Infested.png?33092","https://oldschool.runescape.wiki/images/thumb/Torag_the_Corrupted.png/145px-Torag_the_Corrupted.png?33092","https://oldschool.runescape.wiki/images/thumb/Dharok_the_Wretched.png/114px-Dharok_the_Wretched.png?33092","https://oldschool.runescape.wiki/images/thumb/Karil_the_Tainted.png/169px-Karil_the_Tainted.png?33092","https://oldschool.runescape.wiki/images/thumb/Ahrim_the_Blighted.png/113px-Ahrim_the_Blighted.png?33092"],wikiUrl:"https://oldschool.runescape.wiki/w/Barrows"},{name:"Moons of Peril",weight:1,imageUrl:["https://oldschool.runescape.wiki/images/thumb/Blood_Moon.png/162px-Blood_Moon.png?c3e72","https://oldschool.runescape.wiki/images/thumb/Eclipse_Moon.png/162px-Eclipse_Moon.png?c3e72","https://oldschool.runescape.wiki/images/thumb/Blue_Moon.png/174px-Blue_Moon.png?c3e72"],wikiUrl:"https://oldschool.runescape.wiki/w/Moons_of_Peril"},{name:"God Wars",weight:1,imageUrl:["https://oldschool.runescape.wiki/images/thumb/Kree%27arra.png/282px-Kree%27arra.png?ba75c","https://oldschool.runescape.wiki/images/thumb/General_Graardor.png/250px-General_Graardor.png?4dd90","https://oldschool.runescape.wiki/images/thumb/K%27ril_Tsutsaroth.png/275px-K%27ril_Tsutsaroth.png?73bda","https://oldschool.runescape.wiki/images/thumb/Commander_Zilyana.png/177px-Commander_Zilyana.png?c5eaa"],wikiUrl:"https://oldschool.runescape.wiki/w/God_Wars_Dungeon"},{name:"General Graardor",weight:1,imageUrl:"https://oldschool.runescape.wiki/images/General_Graardor.png",wikiUrl:"https://oldschool.runescape.wiki/w/General_Graardor"},{name:"Commander Zilyana",weight:1,imageUrl:"https://oldschool.runescape.wiki/images/Commander_Zilyana.png",wikiUrl:"https://oldschool.runescape.wiki/w/Commander_Zilyana"},{name:"Kree'arra",weight:1,imageUrl:"https://oldschool.runescape.wiki/images/Kree%27arra.png",wikiUrl:"https://oldschool.runescape.wiki/w/Kree%27arra"},{name:"K'ril Tsutsaroth",weight:1,imageUrl:"https://oldschool.runescape.wiki/images/K%27ril_Tsutsaroth.png",wikiUrl:"https://oldschool.runescape.wiki/w/K%27ril_Tsutsaroth"},{name:"Doom of Mokhaiotl",weight:1,imageUrl:"https://oldschool.runescape.wiki/images/thumb/Doom_of_Mokhaiotl.png/300px-Doom_of_Mokhaiotl.png?e5edb",wikiUrl:"https://oldschool.runescape.wiki/w/Doom_of_Mokhaiotl"},{name:"Zulrah",weight:1,imageUrl:"https://oldschool.runescape.wiki/images/thumb/Zulrah_%28serpentine%29.png/280px-Zulrah_%28serpentine%29.png?29a54",wikiUrl:"https://oldschool.runescape.wiki/w/Zulrah"},{name:"Vorkath",weight:1,imageUrl:"https://oldschool.runescape.wiki/images/thumb/Vorkath.png/380px-Vorkath.png?1ce3f",wikiUrl:"https://oldschool.runescape.wiki/w/Vorkath"},{name:"Muspah",weight:1,imageUrl:"https://oldschool.runescape.wiki/images/thumb/Phantom_Muspah_%28ranged%29.png/298px-Phantom_Muspah_%28ranged%29.png?9cf6a",wikiUrl:"https://oldschool.runescape.wiki/w/Phantom_Muspah"}]};function E(){let J=new(window.AudioContext||window.webkitAudioContext),K=0.05,Q=J.sampleRate,V=J.createBuffer(1,0.05*Q,Q),Y=V.getChannelData(0);for(let j=0;j<V.length;j++){let $=j/Q,X=800,M=Math.sin(2*Math.PI*800*$),P=Math.exp(-$*100);Y[j]=M*P*0.3}return b(V)}function C(){let J=new(window.AudioContext||window.webkitAudioContext),K=1,Q=J.sampleRate,V=J.createBuffer(1,1*Q,Q),Y=V.getChannelData(0);for(let j=0;j<V.length;j++){let $=j/Q,X=800,M=1000,P=1200,y=Math.sin(2*Math.PI*800*$)*0.5+Math.sin(2*Math.PI*1000*$)*0.3+Math.sin(2*Math.PI*1200*$)*0.2,Z=Math.exp(-$*5);Y[j]=y*Z*0.5}return b(V)}function b(J){let K=J.length*J.numberOfChannels*2,Q=new ArrayBuffer(44+K),V=new DataView(Q),Y=[],j=0,$=0,X=(Z)=>{for(let k=0;k<Z.length;k++)V.setUint8($+k,Z.charCodeAt(k));$+=Z.length},M=(Z)=>{V.setUint16($,Z,!0),$+=2},P=(Z)=>{V.setUint32($,Z,!0),$+=4};X("RIFF"),P(36+K),X("WAVE"),X("fmt "),P(16),M(1),M(J.numberOfChannels),P(J.sampleRate),P(J.sampleRate*J.numberOfChannels*2),M(J.numberOfChannels*2),M(16),X("data"),P(K);for(let Z=0;Z<J.numberOfChannels;Z++)Y.push(J.getChannelData(Z));while($<V.byteLength){for(let Z=0;Z<J.numberOfChannels;Z++){let k=Math.max(-1,Math.min(1,Y[Z][j]));V.setInt16($,k<0?k*32768:k*32767,!0),$+=2}j++}let y=new Blob([Q],{type:"audio/wav"});return URL.createObjectURL(y)}function S(J){let K=new Audio(J);K.volume=0.3,K.play().catch((Q)=>console.warn("Audio play failed:",Q)),K.addEventListener("ended",()=>{URL.revokeObjectURL(J)})}var D={segments:{color1:"#1a1a1a",color2:"#2d2d2d",borderColor:"#444",borderWidth:2},images:{width:80,maxHeight:100},center:{color:"#fff",borderColor:"#333",borderWidth:5,radius:45},text:{font:"bold 13px Arial, sans-serif",outlineColor:"#000000",outlineWidth:3,fillColor:"#FFFF00"}};class c{canvas;ctx;config;segments;segmentImageUrls=new Map;currentRotation=0;isSpinning=!1;spinButton;resultDiv;imageCache=new Map;imagesLoaded=!1;lastSegmentIndex=-1;constructor(J,K){this.canvas=J,this.ctx=J.getContext("2d"),this.config=I(K),this.segments=N(this.config),this.assignSegmentImages(),this.spinButton=document.getElementById("spin-button"),this.resultDiv=document.getElementById("result"),this.preloadImages().then(()=>{this.imagesLoaded=!0,this.drawWheel()}),this.setupEventListeners()}assignSegmentImages(){this.segmentImageUrls.clear(),this.segments.forEach((J,K)=>{let Q=this.config.items.find((V)=>V.name===J);if(Q&&Q.imageUrl)if(Array.isArray(Q.imageUrl)){let V=Math.floor(Math.random()*Q.imageUrl.length);this.segmentImageUrls.set(K,Q.imageUrl[V])}else this.segmentImageUrls.set(K,Q.imageUrl)})}async preloadImages(){let J=[];this.config.items.filter((K)=>K.imageUrl).forEach((K)=>{(Array.isArray(K.imageUrl)?K.imageUrl:[K.imageUrl]).forEach((V)=>{let Y=new Promise((j,$)=>{let X=new Image;X.crossOrigin="anonymous",X.onload=()=>{this.imageCache.set(V,X),console.log(`✓ Loaded image: ${V}`),j()},X.onerror=(M)=>{console.error("✗ Failed to load image:",V),j()},X.src=V});J.push(Y)})}),await Promise.all(J),console.log(`Image cache loaded: ${this.imageCache.size} images`)}setupEventListeners(){this.spinButton.addEventListener("click",()=>this.spin()),this.canvas.addEventListener("click",()=>this.spin()),this.canvas.style.cursor="pointer",document.querySelectorAll('input[name="config"]').forEach((K)=>{K.addEventListener("change",(Q)=>{let V=Q.target;this.loadConfig(V.value)})})}loadConfig(J){let K;switch(J){case"team":K=U;break;case"duos":K=h;break;case"solos":K=x;break;default:K=U}this.updateConfig(K)}drawWheel(){let J=this.canvas.width/2,K=this.canvas.height/2,Q=Math.min(J,K)-10;this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height),this.ctx.save(),this.ctx.translate(J,K),this.ctx.rotate(this.currentRotation);let V=2*Math.PI/this.segments.length;this.segments.forEach((Y,j)=>{let $=this.config.items.find((_)=>_.name===Y);console.log($);let X=j*V,M=X+V;this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.arc(0,0,Q,X,M),this.ctx.closePath(),this.ctx.fillStyle=j%2===0?D.segments.color1:D.segments.color2,this.ctx.fill(),this.ctx.strokeStyle=D.segments.borderColor,this.ctx.lineWidth=D.segments.borderWidth,this.ctx.stroke(),this.ctx.save();let P=X+V/2;this.ctx.rotate(P);let y=this.segmentImageUrls.get(j),Z=y?this.imageCache.get(y):void 0,k=Q-60;if(Z){this.ctx.save(),this.ctx.rotate(5*Math.PI/2),this.ctx.translate(0,-k),this.ctx.rotate(0);let _=Z.height/Z.width,z=D.images.width,G=z*_;if(G>D.images.maxHeight)G=D.images.maxHeight,z=G/_;this.ctx.drawImage(Z,-z/2,-G/2,z,G),this.ctx.restore()}let T=Q*0.55;this.ctx.textAlign="center",this.ctx.textBaseline="middle",this.ctx.font=D.text.font,this.ctx.lineWidth=D.text.outlineWidth,this.ctx.strokeStyle=D.text.outlineColor,this.ctx.fillStyle=D.text.fillColor;let B=((this.currentRotation+P)%(2*Math.PI)+2*Math.PI)%(2*Math.PI);if(B>Math.PI/2&&B<3*Math.PI/2)this.ctx.rotate(Math.PI),this.ctx.strokeText(Y,-T,0),this.ctx.fillText(Y,-T,0);else this.ctx.strokeText(Y,T,0),this.ctx.fillText(Y,T,0);this.ctx.restore()}),this.ctx.beginPath(),this.ctx.arc(0,0,D.center.radius,0,2*Math.PI),this.ctx.fillStyle=D.center.color,this.ctx.fill(),this.ctx.strokeStyle=D.center.borderColor,this.ctx.lineWidth=D.center.borderWidth,this.ctx.stroke(),this.ctx.restore()}easeOutQuart(J){return 1-Math.pow(1-J,2.5)}getWinningSegmentIndex(){let J=2*Math.PI/this.segments.length,K=this.currentRotation%(2*Math.PI);if(K<0)K+=2*Math.PI;let Q=(3*Math.PI/2-K)%(2*Math.PI);if(Q<0)Q+=2*Math.PI;return Math.floor(Q/J)%this.segments.length}async spin(){if(this.isSpinning)return;this.isSpinning=!0,this.spinButton.disabled=!0,this.resultDiv.innerHTML="",this.lastSegmentIndex=-1;let J=(Math.random()-0.5)*2*this.config.spinVariance,K=this.config.spinDuration+J,Q=5,V=8,Y=Q+Math.random()*(V-Q),j=Math.random()*Math.PI*2,$=Y*Math.PI*2+j,X=Date.now(),M=this.currentRotation,P=()=>{let y=Date.now()-X,Z=Math.min(y/K,1),k=this.easeOutQuart(Z);this.currentRotation=M+$*k;let T=2*Math.PI/this.segments.length,B=this.currentRotation%(2*Math.PI);if(B<0)B+=2*Math.PI;let O=(3*Math.PI/2-B)%(2*Math.PI);if(O<0)O+=2*Math.PI;let _=Math.floor(O/T)%this.segments.length;if(_!==this.lastSegmentIndex&&this.lastSegmentIndex!==-1&&Z<1){let z=E();S(z)}if(this.lastSegmentIndex=_,this.drawWheel(),Z<1)requestAnimationFrame(P);else{this.isSpinning=!1,this.spinButton.disabled=!1;let z=this.getWinningSegmentIndex(),G=this.segments[z];this.resultDiv.innerHTML="",this.resultDiv.classList.remove("show");let A=this.config.items.find((q)=>q.name===G),H=this.segmentImageUrls.get(z);if((H?this.imageCache.get(H):void 0)&&H){let q=document.createElement("img");q.src=H,q.className="result-image",q.crossOrigin="anonymous",this.resultDiv.appendChild(q)}let v=document.createElement("div");if(v.textContent=`${G}`,v.className="result-text",this.resultDiv.appendChild(v),A?.wikiUrl){let q=document.createElement("div");q.className="result-links";let L=document.createElement("button"),d=`${A.wikiUrl}/Strategies#Transportation`;L.className="result-link",L.innerHTML=`
            <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <path d="M9 18l6-6-6-6"/>
            </svg>
            <span>Getting There</span>
          `,L.addEventListener("click",async(w)=>{w.stopPropagation(),await navigator.clipboard.writeText(d);let R=L.querySelector("span").textContent;L.querySelector("span").textContent="Copied!",setTimeout(()=>{L.querySelector("span").textContent=R},1500)}),q.appendChild(L);let F=document.createElement("button"),l=`${A.wikiUrl}/Strategies#Equipment`;F.className="result-link",F.innerHTML=`
            <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <rect x="5" y="2" width="14" height="20" rx="2" ry="2"/>
              <line x1="12" y1="18" x2="12" y2="18"/>
            </svg>
            <span>Equipment</span>
          `,F.addEventListener("click",async(w)=>{w.stopPropagation(),await navigator.clipboard.writeText(l);let R=F.querySelector("span").textContent;F.querySelector("span").textContent="Copied!",setTimeout(()=>{F.querySelector("span").textContent=R},1500)}),q.appendChild(F),this.resultDiv.appendChild(q)}setTimeout(()=>{this.resultDiv.classList.add("show")},100);let W=()=>{this.resultDiv.classList.remove("show"),this.resultDiv.removeEventListener("click",W)};this.resultDiv.addEventListener("click",W);let p=C();S(p)}};requestAnimationFrame(P)}async updateConfig(J){this.config=I(J),this.segments=N(this.config),this.assignSegmentImages(),await this.preloadImages(),this.drawWheel()}}var u=document.getElementById("wheel"),f=new c(u,U);window.wheel=f;

//# debugId=AB067D694E4505B164756E2164756E21
